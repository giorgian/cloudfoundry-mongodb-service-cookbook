---
cloud_controller_uri: <%= cloud_controller_url %>
service:
  name: mongodb
  version: "1.8"
  description: 'MongoDB NoSQL store'
  plans: ['free']
  default_plan: 'free'
  tags: ['mongodb', 'mongodb-1.8', 'nosql', 'document']
  timeout: <%= node['cloudfoundry_mongodb_service']['gateway']['timeout'] %>
<%
keys = node['cloudfoundry_mongodb_service']['supported_versions'].keys
keys = keys.collect {|e| "\"#{e}\""}
%>
  supported_versions: [<%= keys.join(", ") %>]
  version_aliases:
<%
  node['cloudfoundry_mongodb_service']['version_aliases'].each do |a, v|
%>
    "<%= a %>": "<%= v %>"
<% end %>

host: localhost
node_timeout: <%= node['cloudfoundry_mongodb_service']['gateway']['node_timeout'] %>
index: 0
token: <%= node['cloudfoundry']['service_token'] %>
mbus: <%= cf_mbus_url %>
pid: <%= node['cloudfoundry_mongodb_service']['gateway']['pid_file'] %>
logging:
  level: <%= node['cloudfoundry_mongodb_service']['gateway']['log_level'] %>
  file: <%= node['cloudfoundry_mongodb_service']['gateway']['log_file'] %>
